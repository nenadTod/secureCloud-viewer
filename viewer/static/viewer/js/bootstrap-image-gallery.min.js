!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],t):t(window.jQuery,window.blueimp.Gallery)}(function(t,o){"use strict";t.extend(o.prototype.options,{useBootstrapModal:!0});var e=o.prototype.close,n=o.prototype.imageFactory;t.extend(o.prototype,{modalFactory:function(t,o,e,n){if(!this.options.useBootstrapModal||e)return n.call(this,t,o,e);var i=this,a=this.container.children(".modal"),r=a.clone().show().on("click",function(t){(t.target===r[0]||t.target===r.children()[0])&&(t.preventDefault(),t.stopPropagation(),i.close())}),l=n.call(this,t,function(t){o({type:t.type,target:r[0]}),r.addClass("in")},e);return r.find(".modal-body").append(l),r[0]},imageFactory:function(t,o,e){return this.modalFactory(t,o,e,n)},close:function(){this.container.find(".modal").removeClass("in"),e.call(this)}})});